#+title: Scripts

Here I put my own scripts, as they are not big enough to have their own files

** ldiff

This script helps to compare [[http://www.latex-project.org/][LaTeX]] documents between different [[http://git-scm.com/][git]] revisions, as explained [[https://wiki.math.cmu.edu/iki/wiki/tips/20140301-git-latexdiff.html][here]].

#+begin_src sh :tangle scripts/.bin/ldiff
#!/bin/bash
# Make sure inputs are tex files
LOCAL="$1"
REMOTE="$2"
MERGED="$3"

if [[ "${MERGED##*.}" == tex ]]; then
    output="${MERGED%.tex}-diff.tex"

    if [[ -f "$output" ]]; then 
        read -p "File $output exists. Overwrite? " confirm
        [[ "$confirm" != y && "$confirm" != yes ]] && exit 1
    fi

    latexdiff "$LOCAL" "$REMOTE" > "$output"
    echo "Generated $output"
else
    echo "Skipped $MERGED (non tex)."
fi
#+end_src

** vct-speak-selection

Send currently selected text to festival (text-to-speech)

#+begin_src sh :tangle scripts/.bin/vct-speak-selection
#!/bin/bash

xsel | padsp festival --tts --pipe
#+end_src
** vct-restart-emacs-daemon

(Re)start emacs daemon

#+begin_src sh :tangle scripts/.bin/vct-restart-emacs-daemon
systemctl --user stop emacs
systemctl --user start emacs
#+end_src
